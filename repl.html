<html manifest="repl.cache-manifest">
<head>
<title>LISPz</title>
<script src="lispz.js"></script>
<script>
  repl = function(run) {
    source = document.getElementById('yalc').value;
    js = lispz.compile('repl', source).join('\n');
    document.getElementById('js').value = js;
    if (run) {
      document.getElementById('output').value = lispz.run('repl', source);
    }
  }
</script>
<body>
<div>
	
<textarea id="yalc" cols="80" rows="8">
(using "net"
  (var #cdnjs (lambda [query pkg]
    (observe
      (net.json-request (+ "http://api.cdnjs.com/libraries?" query pkg)) 
      (then [json]
        (array json.results)
        (first [metadata] (return (=== metadata.name pkg)))
        (then [metadata]
          (array metadata.assets)
	  (first [asset] (return (contains asset.version "alpha")))
        )
      )
    )
  ))
  (#cdnjs "fields=assets&search=" "twitter-bootstrap")
)
</textarea><br>
<textarea id="js" cols="80" rows="8">
</textarea>
<br>
<textarea id="output" cols="80" rows="8">
</textarea>
<div>
  <button  onclick="javascript:repl(false)">Compile</button>
  <button  onclick="javascript:repl(true)">Run</button>
</div>
</div>

<pre>
</pre>

</body>
</html>
