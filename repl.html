<html>
<head>
<title>LISPz</title>
<script src="lispz.js"></script>
<script>
  repl = function() {
    source = document.getElementById('yalc').value;
    js = lispz.compile(source);
    document.getElementById('js').value = js;
    console.log(lispz.env.list);
    document.getElementById('output').value = eval(js);
  }
</script>
<body>
<div style="position:absolute;bottom:-18px;right:0;">
<form action="javascript:repl()">
<textarea id="yalc" cols="38" rows="8">
(macro array (list) (js '[' *list ']'))
(array 1 2 3 4)
</textarea>
<textarea id="js" cols="38" rows="8">
</textarea>
<br>
<textarea id="output" cols="80" rows="8"></textarea>
<br>
<input style="position: absolute; right: 16px; bottom: 22px;" type="submit" value="Compile">
</form>
</div>