###
# Execute a list of asynchronous functions one after another
###
(var sequential (lambda [list for-each=> on-complete=>]
  (var list (slice list))
  (var each=> (=>
    (return-if (not list.length) (on-complete=>))
    (for-each=> (list.shift) each=>)
  ))(each=>)
))

(export {sequential})
